// @flow
import React from 'react'
import type { Props } from './'

type ChildrenProps = {
  color: string,
}

const Screen = ({ color }: ChildrenProps) => (
  <path
    fill="#FFF"
    stroke={color}
    d="M25.685 23.383a2.5 2.5 0 0 0-2.5 2.5v143.234a2.5 2.5 0 0 0 2.5 2.5H119.3a2.5 2.5 0 0 0 2.5-2.5V25.883a2.5 2.5 0 0 0-2.5-2.5H25.685z"
  />
)

const Frame = ({ color }: ChildrenProps) => (
  <path
    fill={color}
    fillOpacity=".1"
    stroke="#1D2027"
    strokeWidth="2.5"
    d="M7.973 1.99h129.176a6 6 0 0 1 6 6v179.02a6 6 0 0 1-6 6H7.973a6 6 0 0 1-6-6V7.99a6 6 0 0 1 6-6z"
  />
)

const SideButton = () => (
  <path
    fill="#1D2028"
    d="M144.986 27.829c1.09 0 1.973.883 1.973 1.972v13.281a1.973 1.973 0 1 1-3.945 0v-13.28c0-1.09.883-1.973 1.972-1.973z"
  />
)

const Cable = () => (
  <>
    <defs>
      <linearGradient id="gradient-cablue-blue" x1="50%" x2="50%" y1="98.633%" y2="0%">
        <stop offset="0%" stopColor="#FFF" />
        <stop offset="100%" stopColor="#142533" />
      </linearGradient>
    </defs>
    <g fillRule="nonzero">
      <path
        fill="url(#gradient-cablue-blue)"
        d="M8.889 51.49h.889v1.98H8v-1.98h1.778-.89zM9.778 101v-1.98H8V101h1.778zM8 51.49h1.778V101H8V51.49zm8 0h-1.778v1.98H16v-1.98zm0 0h-.889H16zM16 101v-1.98h-1.778V101H16zm-1.778-49.51H16V101h-1.778V51.49z"
        transform="matrix(-1 0 0 1 83.184 192.01)"
      />
      <path
        fill="#142533"
        d="M75.184 231.618V243.5h-8v-11.882h8zm2-1.98h-12v14.655c0 .656.537 1.188 1.2 1.188h9.6c.662 0 1.2-.532 1.2-1.188v-14.655z"
      />
      <path
        fill="#142533"
        d="M80.784 193.99a.4.4 0 0 1 .4.397v30.102c0 2.843-2.328 5.149-5.2 5.149h-9.6c-2.872 0-5.2-2.306-5.2-5.15v-30.101c0-.219.179-.396.4-.396h19.2zm0-1.98h-19.2a2.388 2.388 0 0 0-2.4 2.377v30.102c0 3.937 3.223 7.13 7.2 7.13h9.6c3.976 0 7.2-3.193 7.2-7.13v-30.102c0-1.313-1.075-2.377-2.4-2.377z"
      />
    </g>
  </>
)

const ConfirmScreen = () => (
  <>
    <rect width="38.469" height="17.908" x="29.592" y="141.272" fill="#EEE" rx="8.954" />
    <rect width="38.469" height="17.908" x="74.966" y="141.272" fill="#41CCB4" rx="8.954" />
    <path
      fill="#FFF"
      fillRule="nonzero"
      d="M83.647 149.502h-1.185c-.034-.394-.29-.661-.74-.661-.588 0-.908.45-.908 1.204 0 .797.33 1.204.9 1.204.428 0 .69-.231.748-.602l1.185.008c-.059.738-.697 1.62-1.959 1.62-1.185 0-2.076-.787-2.076-2.23 0-1.45.916-2.23 2.076-2.23 1.085 0 1.867.61 1.96 1.687zm4.917.543c0 1.45-.925 2.23-2.094 2.23-1.177 0-2.093-.789-2.093-2.23 0-1.45.916-2.23 2.093-2.23 1.169 0 2.094.78 2.094 2.23zm-1.203 0c0-.78-.31-1.204-.89-1.204-.58 0-.892.424-.892 1.204s.311 1.204.891 1.204c.58 0 .891-.424.891-1.204zm5.682-2.17v4.34h-.975l-1.556-2.28h-.025v2.28H89.32v-4.34h.992l1.53 2.272h.033v-2.273h1.169zm.772 4.34v-4.34h3.026v.949h-1.858v.746h1.673v.95h-1.673v1.695h-1.168zm4.84-4.34v4.34h-1.168v-4.34h1.168zm.772 4.34v-4.34h1.858c.957 0 1.598.55 1.598 1.474 0 .602-.274 1.024-.732 1.247l.874 1.62h-1.269l-.757-1.434h-.403v1.433h-1.169zm1.169-2.348h.412c.41 0 .656-.147.656-.518 0-.373-.246-.534-.656-.534h-.412v1.052zm3-1.993h1.454l1 2.459h.05l1.001-2.459h1.455v4.341h-1.144v-2.51h-.033l-.959 2.476h-.69l-.958-2.492h-.033v2.526h-1.143v-4.34z"
    />
  </>
)

const UpdateScreen = () => (
  <>
    <g transform="translate(30 76)">
      <rect width="86" height="18" y="27" fill="#EEE" rx="9" />
      <rect width="86" height="18" fill="#41CCB4" rx="9" />
      <path
        fill="#FFF"
        fillRule="nonzero"
        d="M11.416 9.922V12H9.873V6.29h1.871c1.552 0 2.328.562 2.328 1.687 0 .661-.323 1.173-.968 1.535L14.768 12h-1.75l-1.211-2.078h-.391zm0-1.16h.29c.538 0 .808-.239.808-.715 0-.393-.265-.59-.793-.59h-.305v1.305zM18.678 12h-3.39V6.29h3.39v1.237H16.83v.899h1.711v1.238h-1.71v1.078h1.847V12zm3.543-4.527a.984.984 0 0 0-.86.45c-.205.302-.308.716-.308 1.245 0 1.099.418 1.648 1.254 1.648.252 0 .497-.035.734-.105.237-.07.475-.155.715-.254v1.305c-.477.21-1.016.316-1.617.316-.862 0-1.523-.25-1.983-.75-.46-.5-.69-1.223-.69-2.168 0-.591.112-1.11.335-1.558a2.39 2.39 0 0 1 .96-1.034c.419-.24.91-.361 1.475-.361.618 0 1.207.134 1.77.402l-.473 1.215a5.314 5.314 0 0 0-.633-.25 2.212 2.212 0 0 0-.68-.101zm7.992 1.664c0 .96-.236 1.691-.707 2.191-.471.5-1.162.75-2.07.75-.896 0-1.583-.251-2.061-.754-.478-.502-.717-1.234-.717-2.195 0-.95.238-1.677.713-2.178.475-.501 1.166-.752 2.072-.752.91 0 1.598.249 2.067.746.469.498.703 1.228.703 2.192zm-3.93 0c0 1.104.384 1.656 1.153 1.656.39 0 .68-.134.869-.402.188-.269.283-.687.283-1.254 0-.57-.096-.992-.287-1.264-.192-.272-.477-.408-.858-.408-.773 0-1.16.557-1.16 1.672zm8.168-2.848h1.727L34.307 12H32.49l-1.863-5.71h1.734l.778 2.894c.161.643.25 1.09.265 1.343a11.046 11.046 0 0 1 .254-1.328l.793-2.91zM40.186 12h-3.391V6.29h3.39v1.237h-1.847v.899h1.71v1.238h-1.71v1.078h1.848V12zm2.543-2.078V12h-1.543V6.29h1.87c1.553 0 2.329.562 2.329 1.687 0 .661-.323 1.173-.969 1.535L46.08 12h-1.75l-1.21-2.078h-.391zm0-1.16h.289c.539 0 .808-.239.808-.715 0-.393-.264-.59-.793-.59h-.304v1.305zm5.91-.356l.984-2.117h1.672l-1.879 3.48V12h-1.555V9.816L45.982 6.29h1.68l.977 2.117zM56.479 12L55.31 7.887h-.036c.055.7.082 1.245.082 1.633V12H53.99V6.29h2.055l1.191 4.054h.032l1.168-4.055h2.058V12h-1.418V9.496c0-.13.002-.275.006-.434.004-.158.022-.548.053-1.167H59.1L57.947 12H56.48zm10.59-2.863c0 .96-.236 1.691-.708 2.191-.471.5-1.161.75-2.07.75-.896 0-1.583-.251-2.06-.754-.478-.502-.717-1.234-.717-2.195 0-.95.237-1.677.713-2.178.475-.501 1.166-.752 2.072-.752.909 0 1.597.249 2.066.746.469.498.703 1.228.703 2.192zm-3.93 0c0 1.104.384 1.656 1.152 1.656.39 0 .68-.134.87-.402.188-.269.282-.687.282-1.254 0-.57-.095-.992-.287-1.264-.191-.272-.477-.408-.857-.408-.774 0-1.16.557-1.16 1.672zm9.808-.114c0 .954-.262 1.688-.787 2.204-.525.515-1.262.773-2.213.773H68.1V6.29h1.976c.917 0 1.625.233 2.123.702.499.469.748 1.146.748 2.031zm-1.601.055c0-.523-.104-.911-.31-1.164-.208-.253-.522-.379-.944-.379h-.45v3.2h.344c.47 0 .813-.137 1.032-.409.218-.272.328-.688.328-1.248zM77.36 12h-3.39V6.29h3.39v1.237h-1.847v.899h1.71v1.238h-1.71v1.078h1.847V12z"
      />
    </g>
  </>
)

const Cross = () => (
  <>
    <defs>
      <path
        id="cross"
        d="M14.611 13.316l6.967-6.967a.61.61 0 0 0 0-.863l-.431-.432a.61.61 0 0 0-.864 0l-6.967 6.967L6.35 5.06a.61.61 0 0 0-.863 0l-.432.432a.61.61 0 0 0 0 .863l6.967 6.962-6.962 6.967a.61.61 0 0 0 0 .864l.432.431a.61.61 0 0 0 .863 0l6.962-6.967 6.967 6.967a.61.61 0 0 0 .864 0l.431-.431a.61.61 0 0 0 0-.864l-6.967-6.967z"
      />
    </defs>
    <g transform="translate(59.178 84.566)">
      <mask id="cross-mask" fill="#fff">
        <use xlinkHref="#cross" />
      </mask>
      <use fill="#000" fillRule="nonzero" xlinkHref="#cross" />
      <g fill="#EA2E49" mask="url(#cross-mask)">
        <path d="M0 0h26v26H0z" />
      </g>
    </g>
  </>
)

const Blue = ({ width = 200, error, wire, action, screen }: Props) => {
  const color = error ? '#EA2E49' : '#6490F1'

  return (
    <svg viewBox="0 0 147 292" width={width} height={(width * 292) / 147}>
      <g fill="none" fillRule="evenodd">
        <SideButton />
        <Frame color={color} />
        <Screen color={color} />
        {error ? <Cross /> : null}
        {wire === 'wired' ? <Cable /> : null}
        {action === 'accept' ? <ConfirmScreen /> : null}
        {screen === 'update' && !action ? <UpdateScreen /> : null}
      </g>
    </svg>
  )
}

export default Blue
